import { Image, Appear } from 'mdx-deck'
import { dark } from 'mdx-deck/themes'
// import { Split, SplitRight } from 'mdx-deck/layouts'
import Layout from './layout.js'
import codeSurfer from 'prism-react-renderer/themes/nightOwl'
export { components } from 'mdx-deck-code-surfer'
export const theme = {
  ...dark,
  codeSurfer,
  monospace: '"Dank Mono", "Fira Code", Consolas, "Roboto Mono", monospaced',
  colors: {
    text: 'rgb(214, 222, 235)',
    code: 'rgb(130, 170, 255)',
    link: 'rgb(128, 203, 196)',
    background: 'rgb(1, 22, 39)',
  },
}

# What Happens If You Let The Creator of React Design a Programming Language

---

export default Layout

`$ whoami`

---

<Image src={require('file-loader!./img/me.png')} />

---

<Image src={require('file-loader!./img/jordan.png')} />

---

export default Layout

### FP in JavaScript? Sure!

<Image src={require('file-loader!./img/fox.png')} width="50vw" height="80vh" />

---

export default Layout

## What is ReasonML?

---

<Image src={require('file-loader!./img/reason-bridge.png')} />

---

export default Layout

## ReasonML vs JavaScript Cheatsheet

| Prop    | Type                     | Description           |
| ------- | ------------------------ | --------------------- |
| `width` | number, string, or array | sets element width    |
| `color` | string                   | sets foreground color |
| `bg`    | string                   | sets background color |

Mutability is always uglier!! 🙌🏼

---

export default Layout

## ADTs! (_variants_ in Reason)

---

export default Layout

```reason Variants! 🙌🏼
type state =
  | Error
  | Loading
  | Loaded(Route.t, list(Post.t));

type action =
  | FetchPosts
  | FetchComments(string)
  | FailedToFetch
  | FetchedPosts(list(Post.t))
  | FetchedComments(string, list(Comment.t))
  | AddComment(string, string, string)
  | DeleteComment(string, string)
  | Like(Post.t, bool)
  | ChangeRoute(Route.t);
----
* > ❤️
2:3 > Sum Types!
4,8,10:15 > Product Types!!
```

---

export default Layout

## React with Reason! ⚛️

---

export default Layout

### How does an actual ReasonReact component look like? 🤔

---

export default Layout

```reason Pattern matching! 🙌🏼
[@react.component]
let make = (~posts, ~postId, ~dispatch, ~navigate) =>
  switch (posts->List.getBy(({Types.Post.id}) => id == postId)) {
  | None => <Error />
  | Some(post) =>
    <div className="single-photo">
      <Post post dispatch navigate />
      <Comments postId dispatch comments={post.comments} />
    </div>
  };
----
* > React component in Reason!
1 > Annotation to have a minimalistic React component ⚛️
2[2] > `make` is the equivalent of the `render` function in js...
2[5:20] > (~) named arguments!
7:8 > JSX punning! Nice uh? 😉
3,6 > Everything is an expression, no need for `return`!
3:5 > Notice this three magic lines...
3[6:8] > What is this `List.getBy()` function? What is its return type??
3[5] > Also, WHAT IS THAT WEIRD `->` IS THIS PHP!?!?!? (coming soon...)
```

---

export default Layout

```reason
let getBy: (list('a), 'a => bool) => option('a);

// ...

type option('a) = None | Some('a);
----
1 > type signature of getBy... 🔍
3 > that's called `find` in JS! Why it's not called the same!? 🤷🏼‍♂️
5 > Mmmhh... this sounds familiar!! 🤔
```

---

export default Layout

Let's see what happens if we don't use `option()`... (**Maybe** in #Haskell)

---

export default Layout

### DEMO time! 🐈⏱

---

export default Layout

> Make impossible states _actually_ impossible!

---

export default Layout

```reason
<>
  <h1>
    <a href="/" onClick={navigate(Base)}> {React.string("Catstagram")} </a>
  </h1>
  {switch (state) {
  | Error => <Error />
  | Loading => <Spinner />
  | Loaded(route, posts) =>
    switch (route) {
    | Base => <Grid posts dispatch navigate />
    | Detail(postId) => <Single posts postId dispatch navigate />
    }
  }}
</>;
----
* > Coding suddenly becomes modelling your data with the proper data structure!!
5,9 > Pattern match the universe! 🤓
6,7,10,11 > Where are the imports?? EVERY FILE IS A MODULE! 📦
```

---

export default Layout

# Honorable Mentions

- // TODO:
- GenType
- Gravitron

---

export default Layout

# Thanks! 😸

---

<Image src={require('file-loader!./img/ending.png')} />
